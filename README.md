# Blog

## Описание проекта
Проект по созданию web-приложения - мини-блога с базой данных и API.  
Разработка приложения ведется на основе фреймворка Flask.  
Для имитации активности и тестирования работы API будет создан парк ботов.

## Структура проекта
```
blog_app/               # пакет приложение
    static/             # статические объекты
    templates/          # шаблоны отображений
        base.html       # базовый шаблон
        comment.html    # комментарий
        comments.html   # страница с комментариями
        index.html      # главная страница
        login.html      # страница входа
        message.html    # сообщение (flash())
        post.html       # пост
        register.html   # страница регистрации
        user.html       # страница пользователя
    __init.py__         # скрипт инициализации модуля
    forms.py            # Веб-формы WTForms
    models.py           # модели данных SQLAlchemy
    views.py            # представления (содержит функции просмотра)
migrations/             # репозиторий миграций базы данных
    ...                 # содержимое репозитория мираций (создается и изменяется автоматически)
tests/                  # тесты
    db_tests.py         # тесты работы с базой данных
blog_app_config.py      # конфигурация приложения
blog_app_run.py         # скрипт запуска приложения
```

## Зависимости
* flask - фрэймворк
* flask_sqlalchemy - расширение flask для работы с базами данных
* flask_migrate - расширение flask для работы с миграциями баз данных
* flask_login - расширение flask для работы с пользователями
* flask_wtf - расширение flask для работы с формами ввода
* email_validator - модуль для валидации поля ввода email (зависимость для flask_wtf)
  
## Заметки по работе с проектом
#### Запуск приложения
Скрипт `blog_app_run.py` запускает приложение на локальной системе.
#### Миграции базы данных
Все операции с миграциями производятся через терминал.  
Перед началом работы с миграциями нужно установить переменную среды FLASK_APP:  
`> set FLASK_APP=blog_app_run.py`  
Инициализация репозитория миграции:  
`> flask db init`  
Создание сценария миграции:  
`> flask db migrate -m "comment"`  
Выполнение сценария миграции:  
`> flask db upgrade`  

